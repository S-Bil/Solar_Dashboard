<!DOCTYPE html>
<html>
  <head>
    <title>Star Wars Film List</title>
  </head>
  <body>
    <h1>Star Wars Film List</h1>
    <form>
      <label for="macAddress">MAC Address:</label>
      <input type="text" id="macAddress" name="macAddress">
      <br>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password">
      <br>
      <button type="button" onclick="getFilmList()">Get Film List</button>
    </form>
    <div id="filmList"></div>
    <script>
      function getFilmList() {
        const macAddress = document.getElementById("macAddress").value;
        const password = document.getElementById("password").value;
        
        var myHeaders = new Headers();
        myHeaders.append("HTTP_ACCEPT", "application/json");
        myHeaders.append("Accept", "api/v1");
        myHeaders.append("Debug-user-agent", "Paradigma/DBG");
        myHeaders.append("Authorization", "Basic MkNCRTk3MDAzRUJCOnZacG14eHdVdw==");

        var requestOptions = {
          method: 'GET',
          headers: myHeaders,
          redirect: 'follow'
        };

        fetch(`https://api.paradigma.remoteportal.de/controllers/29402?mac=${macAddress}&pass=${password}`, requestOptions)
          .then(response => response.text())
          .then(result => {
            const filmListDiv = document.getElementById("filmList");
            const filmList = JSON.parse(result);
            let filmListHTML = "<ul>";
            filmList.forEach(film => {
              filmListHTML += `<li>${film.title}</li>`;
            });
            filmListHTML += "</ul>";
            filmListDiv.innerHTML = filmListHTML;
          })
          .catch(error => console.log('error', error));
      }
    </script>
  </body>
</html>
